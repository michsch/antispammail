/*! antiSpamMail - v0.1.0 - 2013-08-24
* Copyright (c) 2013 Michael Schulze; Licensed MIT license */
!function(a,b){"use strict";var c,d,e;c=function(){},d={_version:"0.1.0",encryptFn:"antiSpamMail.decrypt"},c.prototype=d,a.antiSpamMail=e=new c,e.encrypt=function(a){var b,c,d,e;for(e=0,b="",d="mailto:"+a,c=0;c<d.length;)e=d.charCodeAt(c),e>=8364&&(e=128),b+=String.fromCharCode(e+1),c++;return b},e.encryptForm=function(a,c){var d,e,f,g,h,i,j,k,l;if(a=a||"antiSpamMail",c=c||"cryptmail_email",i="cryptmail_cryptedmail",h="cryptmail_html",d=b.forms[a],e=d[c].value,d.cryptmail_email.value.length<4)return!1;if(k=d.cryptmail_radio,k.length>0)for(j=0;j<k.length;)l=parseInt(k[j].checked?k[j].value:void 0,10),j++;else l=0;return 1===l?(f=e.replace(/\./g,'<span class="crypt">.</span>.</span class="crypt">.</span>'),f=e.replace(/@/,'<span class="crypt">.</span>@</span class="crypt">.</span>')):(f=e.replace(/\./g," [dot] "),f=e.replace(/@/," [at] ")),g=this.encrypt(e),d[i].value=g,d[h].value='<a href="javascript:'+this.encryptFn+"('"+g+"');\">"+f+"</a>",!0},"function"==typeof define&&define.amd&&define("antiSpamMail",[],function(){return e})}(this,document);